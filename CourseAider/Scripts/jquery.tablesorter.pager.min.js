(function(e){"use strict";e.extend({tablesorterPager:new function(){this.defaults={container:null,ajaxUrl:null,customAjaxUrl:function(e,t){return t},ajaxObject:{dataType:"json"},ajaxProcessing:function(e){return[0,[],null]},output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:true,page:0,size:10,fixedHeight:false,removeRows:false,cssFirst:".first",cssPrev:".prev",cssNext:".next",cssLast:".last",cssGoto:".gotoPage",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssErrorRow:"tablesorter-errorRow",cssDisabled:"disabled",totalRows:0,totalPages:0,filteredRows:0,filteredPages:0};var t=this,n=function(e,t){var n="addClass",r="removeClass",i=e.cssDisabled,s=!!t,o=Math.min(e.totalPages,e.filteredPages);if(e.updateArrows){e.$container.find(e.cssFirst+","+e.cssPrev)[s||e.page===0?n:r](i);e.$container.find(e.cssNext+","+e.cssLast)[s||e.page===o-1?n:r](i)}},r=function(t,r,i){var s,o,u,a,f,l=t.config,c=e(t).hasClass("hasFilters")&&!r.ajaxUrl;r.totalPages=Math.ceil(r.totalRows/r.size);r.filteredRows=c?l.$tbodies.eq(0).children("tr:not(."+(l.widgetOptions&&l.widgetOptions.filter_filteredRow||"filtered")+","+l.selectorRemove+")").length:r.totalRows;r.filteredPages=c?Math.ceil(r.filteredRows/r.size)||1:r.totalPages;if(Math.min(r.totalPages,r.filteredPages)>=0){a=r.size*r.page>r.filteredRows;r.startRow=a?1:r.filteredRows===0?0:r.size*r.page+1;r.page=a?0:r.page;r.endRow=Math.min(r.filteredRows,r.totalRows,r.size*(r.page+1));f=r.$container.find(r.cssPageDisplay);u=r.output.replace(/\{(page|filteredRows|filteredPages|totalPages|startRow|endRow|totalRows)\}/gi,function(e){return{"{page}":r.page+1,"{filteredRows}":r.filteredRows,"{filteredPages}":r.filteredPages,"{totalPages}":r.totalPages,"{startRow}":r.startRow,"{endRow}":r.endRow,"{totalRows}":r.totalRows}[e]});if(f.length){f[f[0].tagName==="INPUT"?"val":"html"](u);if(r.$goto.length){a="";o=Math.min(r.totalPages,r.filteredPages);for(s=1;s<=o;s++){a+="<option>"+s+"</option>"}r.$goto.html(a).val(r.page+1)}}}n(r);if(r.initialized&&i!==false){e(t).trigger("pagerComplete",r)}},i=function(t,n){var r,i,s=t.config.$tbodies.eq(0);if(n.fixedHeight){s.find("tr.pagerSavedHeightSpacer").remove();i=e.data(t,"pagerSavedHeight");if(i){r=i-s.height();if(r>5&&e.data(t,"pagerLastSize")===n.size&&s.children("tr:visible").length<n.size){s.append('<tr class="pagerSavedHeightSpacer '+t.config.selectorRemove.replace(/(tr)?\./g,"")+'" style="height:'+r+'px;"></tr>')}}}},s=function(t,n){var r=t.config.$tbodies.eq(0);r.find("tr.pagerSavedHeightSpacer").remove();e.data(t,"pagerSavedHeight",r.height());i(t,n);e.data(t,"pagerLastSize",n.size)},o=function(e,t){if(!t.ajaxUrl){var n,r=e.config,i=r.$tbodies.eq(0).children("tr:not(."+r.cssChildRow+")"),s=i.length,o=t.page*t.size,u=o+t.size,a=r.widgetOptions&&r.widgetOptions.filter_filteredRow||"filtered",f=0;for(n=0;n<s;n++){if(!i[n].className.match(a)){i[n].style.display=f>=o&&f<u?"":"none";f++}}}},u=function(t,r){r.size=parseInt(r.$size.val(),10)||r.size;e.data(t,"pagerLastSize",r.size);n(r);if(!r.removeRows){o(t,r);e(t).bind("sortEnd.pager filterEnd.pager",function(){o(t,r)})}},a=function(t,n,s,o,u){if(typeof s.ajaxProcessing==="function"){var a,f,l,c,h,p,d,v,m,g=e(n),y=n.config,b=g.find("thead th").length,w="",E=s.ajaxProcessing(t,n)||[0,[]],S=isNaN(E[0])&&!isNaN(E[1]);g.find("thead tr."+s.cssErrorRow).remove();if(u){m=e('<tr class="'+s.cssErrorRow+'"><td style="text-align:center;" colspan="'+b+'">'+(o.status===0?"Not connected, verify Network":o.status===404?"Requested page not found [404]":o.status===500?"Internal Server Error [500]":u==="parsererror"?"Requested JSON parse failed":u==="timeout"?"Time out error":u==="abort"?"Ajax Request aborted":"Uncaught error: "+o.statusText+" ["+o.status+"]")+"</td></tr>").click(function(){e(this).remove()}).appendTo(g.find("thead:first"));y.$tbodies.eq(0).empty()}else{s.totalRows=E[S?1:0]||s.totalRows||0;d=E[S?0:1]||[];v=d.length;p=E[2];if(d instanceof jQuery){y.$tbodies.eq(0).empty().append(d)}else if(d.length){if(v>0){for(a=0;a<v;a++){w+="<tr>";for(f=0;f<d[a].length;f++){w+="<td>"+d[a][f]+"</td>"}w+="</tr>"}}y.$tbodies.eq(0).html(w)}if(p&&p.length===b){l=g.hasClass("hasStickyHeaders");h=l?y.$sticky.children("thead:first").children().children():"";c=g.find("tfoot tr:first").children();g.find("th."+y.cssHeader).each(function(t){var n=e(this),r;if(n.find("."+y.cssIcon).length){r=n.find("."+y.cssIcon).clone(true);n.find(".tablesorter-header-inner").html(p[t]).append(r);if(l&&h.length){r=h.eq(t).find("."+y.cssIcon).clone(true);h.eq(t).find(".tablesorter-header-inner").html(p[t]).append(r)}}else{n.find(".tablesorter-header-inner").html(p[t]);if(l&&h.length){h.eq(t).find(".tablesorter-header-inner").html(p[t])}}c.eq(t).html(p[t])})}}if(y.showProcessing){e.tablesorter.isProcessing(n)}g.trigger("update");s.totalPages=Math.ceil(s.totalRows/s.size);r(n,s);i(n,s);if(s.initialized){g.trigger("pagerChange",s)}}if(!s.initialized){s.initialized=true;e(n).trigger("pagerInitialized",s)}},f=function(t,n){var r=l(t,n),i=e(document),s=t.config;if(r!==""){if(s.showProcessing){e.tablesorter.isProcessing(t,true)}i.bind("ajaxError.pager",function(e,s,o,u){if(r.match(o.url)){a(null,t,n,s,u);i.unbind("ajaxError.pager")}});n.ajaxObject.url=r;n.ajaxObject.success=function(e){a(e,t,n);i.unbind("ajaxError.pager");if(typeof n.oldAjaxSuccess==="function"){n.oldAjaxSuccess(e)}};e.ajax(n.ajaxObject)}},l=function(t,n){var r=n.ajaxUrl?n.ajaxUrl.replace(/\{page([\-+]\d+)?\}/,function(e,t){return n.page+(t?parseInt(t,10):0)}).replace(/\{size\}/g,n.size):"",i=t.config.sortList,s=n.currentFilters||[],o=r.match(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/),u=r.match(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/),a=[];if(o){o=o[1];e.each(i,function(e,t){a.push(o+"["+t[0]+"]="+t[1])});r=r.replace(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/g,a.length?a.join("&"):o);a=[]}if(u){u=u[1];e.each(s,function(e,t){if(t){a.push(u+"["+e+"]="+encodeURIComponent(t))}});r=r.replace(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/g,a.length?a.join("&"):u)}if(typeof n.customAjaxUrl==="function"){r=n.customAjaxUrl(t,r)}return r},c=function(t,n,s){s.isDisabled=false;var u,a,f,l,c=n.length,h=s.page*s.size,p=h+s.size;if(c<1){return}if(s.initialized){e(t).trigger("pagerChange",s)}if(!s.removeRows){o(t,s)}else{if(p>n.length){p=n.length}e.tablesorter.clearTableBody(t);l=e.tablesorter.processTbody(t,t.config.$tbodies.eq(0),true);for(u=h;u<p;u++){f=n[u];c=f.length;for(a=0;a<c;a++){l.appendChild(f[a])}}e.tablesorter.processTbody(t,l,false)}if(s.page>=s.totalPages){m(t,s)}r(t,s);if(!s.isDisabled){i(t,s)}e(t).trigger("applyWidgets")},h=function(t,r){if(r.ajax){n(r,true)}else{r.isDisabled=true;e.data(t,"pagerLastPage",r.page);e.data(t,"pagerLastSize",r.size);r.page=0;r.size=r.totalRows;r.totalPages=1;e(t).find("tr.pagerSavedHeightSpacer").remove();c(t,t.config.rowsCopy,r)}r.$size.add(r.$goto).each(function(){e(this).addClass(r.cssDisabled)[0].disabled=true})},p=function(t,n,r){if(n.isDisabled){return}var i=Math.min(n.totalPages,n.filteredPages);if(n.page<0){n.page=0}if(n.page>i-1&&i!==0){n.page=i-1}if(n.ajax){f(t,n)}else if(!n.ajax){c(t,t.config.rowsCopy,n)}e.data(t,"pagerLastPage",n.page);e.data(t,"pagerUpdateTriggered",true);if(n.initialized&&r!==false){e(t).trigger("pageMoved",n)}},d=function(t,n,r){r.size=n;r.$size.val(n);e.data(t,"pagerLastPage",r.page);e.data(t,"pagerLastSize",r.size);r.totalPages=Math.ceil(r.totalRows/r.size);p(t,r)},v=function(e,t){t.page=0;p(e,t)},m=function(e,t){t.page=Math.min(t.totalPages,t.filteredPages)-1;p(e,t)},g=function(e,t){t.page++;if(t.page>=Math.min(t.totalPages,t.filteredPages)-1){t.page=Math.min(t.totalPages,t.filteredPages)-1}p(e,t)},y=function(e,t){t.page--;if(t.page<=0){t.page=0}p(e,t)},b=function(t,n){h(t,n);n.$container.hide();t.config.appender=null;e(t).unbind("destroy.pager sortEnd.pager filterEnd.pager enable.pager disable.pager")},w=function(t,n,r){var s=n.$size.removeClass(n.cssDisabled).removeAttr("disabled");n.$goto.removeClass(n.cssDisabled).removeAttr("disabled");n.isDisabled=false;n.page=e.data(t,"pagerLastPage")||n.page||0;n.size=e.data(t,"pagerLastSize")||parseInt(s.find("option[selected]").val(),10)||n.size;s.val(n.size);n.totalPages=Math.ceil(Math.min(n.totalPages,n.filteredPages)/n.size);if(r){e(t).trigger("update");d(t,n.size,n);u(t,n);i(t,n)}};t.appender=function(t,n){var r=t.config.pager;if(!r.ajax){t.config.rowsCopy=n;r.totalRows=n.length;r.size=e.data(t,"pagerLastSize")||r.size;r.totalPages=Math.ceil(r.totalRows/r.size);c(t,n,r)}};t.construct=function(n){return this.each(function(){if(!(this.config&&this.hasInitialized)){return}var a,f,l,c=this.config,E=c.pager=e.extend({},e.tablesorterPager.defaults,n),S=this,x=S.config,T=e(S),N=E.$container=e(E.container).addClass("tablesorter-pager").show();E.oldAjaxSuccess=E.oldAjaxSuccess||E.ajaxObject.success;c.appender=t.appender;T.unbind("filterStart.pager filterEnd.pager sortEnd.pager disable.pager enable.pager destroy.pager update.pager pageSize.pager").bind("filterStart.pager",function(t,n){e.data(S,"pagerUpdateTriggered",false);E.currentFilters=n}).bind("filterEnd.pager sortEnd.pager",function(t){if(e.data(S,"pagerUpdateTriggered")){e.data(S,"pagerUpdateTriggered",false);return}p(S,E,false);r(S,E,false);i(S,E)}).bind("disable.pager",function(e){e.stopPropagation();h(S,E)}).bind("enable.pager",function(e){e.stopPropagation();w(S,E,true)}).bind("destroy.pager",function(e){e.stopPropagation();b(S,E)}).bind("update.pager",function(e){e.stopPropagation();o(S,E)}).bind("pageSize.pager",function(e,t){e.stopPropagation();d(S,parseInt(t,10)||10,E);o(S,E);r(S,E,false);if(E.$size.length){E.$size.val(E.size)}}).bind("pageSet.pager",function(e,t){e.stopPropagation();E.page=(parseInt(t,10)||1)-1;if(E.$goto.length){E.$goto.val(E.size)}p(S,E);r(S,E,false)});f=[E.cssFirst,E.cssPrev,E.cssNext,E.cssLast];l=[v,y,g,m];N.find(f.join(",")).unbind("click.pager").bind("click.pager",function(t){var n,r=e(this),i=f.length;if(!r.hasClass(E.cssDisabled)){for(n=0;n<i;n++){if(r.is(f[n])){l[n](S,E);break}}}return false});E.$goto=N.find(E.cssGoto);if(E.$goto.length){E.$goto.unbind("change").bind("change",function(){E.page=e(this).val()-1;p(S,E)});r(S,E,false)}E.$size=N.find(E.cssPageSize);if(E.$size.length){E.$size.unbind("change.pager").bind("change.pager",function(){E.$size.val(e(this).val());if(!e(this).hasClass(E.cssDisabled)){d(S,parseInt(e(this).val(),10),E);s(S,E)}return false})}E.initialized=false;T.trigger("pagerBeforeInitialized",E);w(S,E,false);if(typeof E.ajaxUrl==="string"){E.ajax=true;x.widgetOptions.filter_serversideFiltering=true;x.serverSideSorting=true;p(S,E)}else{E.ajax=false;e(this).trigger("appendCache",true);u(S,E)}s(S,E);if(!E.ajax){E.initialized=true;e(S).trigger("pagerInitialized",E)}})}}});e.fn.extend({tablesorterPager:e.tablesorterPager.construct})})(jQuery)